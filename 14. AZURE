
Subscriptions:
===================
- click on home, click on subscriptions in the seachbar , you will get the amount limit of your account 


Resource groups:
===================
Basics:

- click on home, click on resource group in the serach bar, 
- subscription- azure subscritpino1
  resource group name- BOFA_DEV_RG
  Region:  Austrialia EAST
Tags:
- Name :      value             Resource
 application: BankofAmerica  
 Owner      : Davic Maclarean
 Enviroment : Dev
 type       : FrontEndResources

- click on create resource group


VM
===
Project details
subscription: Azure subscription 1
  Resource group: BOFA_DEV_RG
Instance details
Virtual machine name: PLL-VM
Region:   Austrialia EAST
Availablity option 
 - No infrastructure redundancy required 
    I  use this option when i dont want azure to maintain multiple copies or  bakcups of VM
    I  use this option when i dont want Azure to  take care of my VM
    I use this option for  low level enviroments[ Ex: Dev, QA, Staging, Demo..
    if i use this option then i will get less billing
    8GB RAM 2 VCPU's & 127 GB O/S disk>>>9000/month
 - Availablity set
    I  use this option when i  want to azure to maintain multiple copies or  bakcups of VM
    I  use this option when i  want Azure to  take care of my VM
    I use this option for  high level enviroments[ Ex: prod 
    if i use this option then i will get high billing
    8GB RAM 2 VCPU's & 127 GB O/S disk>>>15000/month
    AS will support or protect our VM within in the datacenter failures
      if there is short circuit happened 
 - Availablity zone
    I  use this option when i want azure to maintain multiple copies or  bakcups of VM
    I  use this option when i  want Azure to  take care of my VM
    I use this option for  high level enviroments[ Ex: prod
    if i use this option then i will get high billing
    8GB RAM 2 VCPU's & 127 GB O/S disk>>>20000/month
     it az will protet your vm even in the situations where the complete  data center  gets collapsed
     
 - virtual machine scale set
      These are high availability

- if you select availablity set  in the availablity options   you need select below 

     fault domain(FD) : The network supply, power supply and cooling supply will ber provided thru common channel(single wire)
     
     update domina( UD):  The network supply, power supply and cooling supply will ber provided thru independentchannel(single wire)
     

- if you select availablity zone  in the availablity options   you need select below 
     zone 1,2,3

- if you select virutual mahcine sacla  in the availablity options   azure wil create new vm automatically which is autocscaling


-security: standard
          trusted lanunch virtual mahcines
          confidental virutal mahcines

- Image:  OS
- VM architecture x64
- size   - standard 
- Adminsitrator account 
    username 
    password

-Inbout port rules

select inbound ports  RDP
                    SSH
                    HTTPS
                    HTTP

Disks:

-OS disk size
-OS disk type
-delet the VM
-key manangment
-enable ultra disk compatiblity

Networking:

-Virtual network
-subnet
-public ip
- NIC network security group
- public inbound ports
- seelct inboutn ports

Managment

- identiy
- Microsoft entra id
- Auto shutdonw
- bakcup
- siterecovery
- alerts

Advanced


- Then click on connect, clikc on download RDP file, click on connect

vertical scaling or scale up is when you are making changes in your existing VMS That ic alled  vertical scaling
whatever the changes is or whatever the changes that your are making

Business case scenario 1:
8GB RAM 2 VCPU's & 127 GB SSD Hardisk
16GB RAM 4 VCPU's & 127 GB SSD Hardisk
- click on PLLVM, click on size,select the size, click on resize


Business case scenario 2:
Add the data disk

- clikc on PLLVM - clic on data disk
- disk name, storage type- SSD, size -400 
- click on apply, click on connect to VM
- click on diskmanagment
- right click on disk1
- click on new simple volume and click next next next and clikc on referesh,you will see


Business case scenario 3:
Increase the size of current data disk to 900 gb
- click on new volume , click on right click and click on extend volume



Business case scenario 4:

shrink the unutilized size
- click on new volume , click on right click and click on shrink volume







ARM templates

- go to template specs
- click on create new template spec
- In basics, name: MyVMdeploymentUsingARM
- Subscription- Azure Subscription1 
  resourcegroup bofa_dev_rG
  Location japanEast
  first version
  version- 0.0.1
- clic on next
- copy your template in edit template
- click on create
- click on deploy



Custome VM:
- go to the vm
- click on server manager
- click on add roles and features
- click on next and add websever ias and click on next

CPATURE THE CUSTOME IMAGE:
- iN pllvm , Go to the disks
- click on OS disk
- click on the disk of vm, click on create snapshot- 
- You can choose the resource group
- instance details 
Basics
  name - PLLVMdisksteup
  storage tup - Premium SSD
Encryption
Networking
Advanced
tags
review+create

- now go to the snapshot, click  no ccreate a disk 
- disk details
- disk name
 - region
 - availablity zone
 - source type
  


ARM templates
Custome template deployment
- click on build your own template in editor
- click on edit template
- click on load file


Creation of AZure linux VM:
- Click on create new resource group
- basiccs
  subscription azure subscript1
  resource goup name- IRG
  region: austria east

- tags
- review + create
- clikc on VM
basics
- subscript
- vm name
- region
- avaialblity options
- security tyupe
- image
-vm architecture
- size
- adminstattor acount
- username and password
-Inbound ports rules
 select inbound porst http 80 , https 443, ssh22
- now click on create and open cloud shell to lgoing into ubunut
- click on bash
- click on mount storage account
- select we will create a new storage account
- now u will see deployment is in progress

- now connecto ssh -i public key ubuntu@ipaddress
- mkdir frutis



When ever we want to upload or keep the data in cloud computing then we use,we create storage accounts.
Storage account or storage services is one of means of uploading the data or keep the data in cloud computing.
Storage accounts will accept any type of data... what ever the data is it will accept all types of dtaa


Structured Data[ Ex: Fix no of rows and colunnds.. CSV, Excel..etc]
Semi-Structured Data[ Ex: HTML., ARM templates, XML, YAML..etc]
Un- Structured Data[ Ex: Videos, Images, PDF files, Word, vision diagrams..etc]

Broadly we are having 3 different types of storage  acconts(A)
Standard/Blob SA is having 4 different types of storage offerings

 1) Blob Storage Services>> again divided into 3 different types of blobs
  i) Page Blob
      Here will upload the unstructured data. Videso Images, VM disk, Database backup files, Master database filess..etc]
  ii)Append Blob
      Here will upload the  Resources logs, Historical datam, Structured  data
  iii)Block Blob
      Here will upload the general data, lke project related documents[ words, excel, pdf, images, HTML,ARM templates..etc]


2) File share storage services
     Here will upload flat files, raw files and even other general project relateed documents[ words, excel, pdf, images, HTML,ARM templates..etc]


3) Table Storage Services
     Here  we can upload the data which is in the  form a table[ Rows and column]

4) Queue Storage Services

     Here we can upload the data which is in the  form of a text messages
    [Exlike SMS, Promotional Messages, notifications etc]

    Flipkart:



- Create new resource group
- create new storage accounts
- click on on create new storage accounts
- subscriptions
  Resource group IRG
  Storage account name: pllsa4712
  region: australi East
  preferred AZURE BLOB STAORAGE  or Azure data lake storage Gen2

  performance standard
  redundacny -  LRS LOCALLY REDUNDANT STOARGE - WITIING A SINGLE DATA CENTER IN ONE REGION
                ZRS- Across 3 avaiabllity zones in the same region
                GRS- Replicates ayynchronouosly to another region
                RA-GRS- Read access                 Same
                        geio redudntadnt storage 

 Advanced
 securiyt
 - require secure transfer for REST API operation
- allow enabling anonymous access on individual containers
- enable stoarge account key access
- default to microsoft entra authorization in athe azure portal
- Minimum TLS version - version 1.2
- Permitted scop for copy opertaion -from any storage account

Hierarchical Namescpace
Blob storage:
 Allow cross tenant replication
 access tier 
    hot
    cool 


Networking:

publick network  access  - enable
                           disable
                           secure by permiter
public network access scope- enable form all network



You have uploaded some 200 files inside your SA, and nnow some 40 files you have deleted after 3 days or 5 fays
you realizes that the files were important and you want the files back
then ins this scenarios and sitautions the data protection tab is ehelpful

- data protection
  - enable soft delete for blobs
    ddays to retain the deleted blobs
  - enable soft delte for containers
    days to retain delted containers
  -enalb soft delte for file shares

Tracking

- eanble versioning for blobs
- enable blobo change feed

Encryptuon type-  microsf managkey keys 
                  customer managedkey
Note:
-By default Storage acccount is crate is standard storage account
- blobs-files
- containre- folders



Premum SA:

Yesterday we have deployed Blob/Standard SA
Today will see how we can deploy Premium SA
99.95.. ONLY Just one extra clikcyou  have to for the premium SA.

In bloc/Standard SA you are getting all 4 different stoarge offerrings
In premium SA you are supposed to choose what storage offering you want

Performanc: Premium
Premium account tyope ; page blobs

- You will see only one storage account for premium



- click onn blob storage service in the storage account
- click on add containers
- name
- click on create
- now click on the created container
- click on switch to acces key
-  click on upload
- click on browse for files
- you can upgrade from block blob from page blob while uploading, page blob is from unstructured data
- for apend blob. you can go to any resource click on acitvity log and download the .csv file
- now go to the storage acccount , go to the created coontainer, click on apend blob and upload the.csv file

-for user access
- clickon the file, click on generate SAS
- Permissions
  Read,add,create,writee,delete,permanent delte,tags
- start and expirday dat
- allowed ip address
- allowed protocols
     choose https and http
- click on Generate SAS token and URL
- copy Blob SAS URL , past that in the browser , You can see the file
You can change the access level on the container by clickin on the 3 options , container levle, blob level.private level access



-In File share

- click on file share
basic
- click name- plfs
- access tier - transaction optimized, hot ,cool
- performance
- 
backup
revidw + create
- click on create file share 
- now got one of the file share, click on browse
- upload the files

Block blob>> that files can be accessed via browser with URL
page blob
append blob

Fileshareblob->> the files cannot be accessed via browser using URL
 Inorder to access the files inised the fileshare we have to host this fileshare on top of a server and this server we called\
it as file share serer.

To host a file share on top of a server we have be opening an SMB services on the  network on which our srver is hosted
the port no for SMB services is 445

Once we host the file share on top of a server then this file share will becomes part of the server

Now qyuiclky deply a server.
- click on vm
- resource group -IRG
- image0 window 22
- size -8 g bram
- username and password
- inbound ports http 80, https 443 ,rdp 3389
- login to the server
- open this pc
- right click on network, click on map network drive
- pass the folder details of storage account fileshareblob url, click on that fileshareblob
- click on connect ,click on window ,select any drive letter, coipy the script
- copy the root path in the double quotes and paste in the folder path
- it'ask for 
- azure\pllsa4712 (storage account name)
- for passwrod, go to accesskey in pllsa4712 and copy the key and paste itas a password




Go to the storage account, click on table storage servcids
- click on table
- click on table name- employees Infor,

Using this software we can insert the data inside the table storage services
- click on storage account, click on open in exploreere
-  download the the app from the link and open

- click on the plug, click on subscription, choose azure
- give your maild id
- login and click on open in explorere
- click on plugin again, click on storage account or service
- choose account name and key
- for storage key , in storaage account, click on acess keys copy the key and poaste in account key
- for storage account name you can check and provide from storage account 
- click on next and click on connect
- to detach old storage account from this explorer service, selct and clic kon deetach
- now click on our storage pllsa4712 acount click on tables
-  you can insert the data



Inside the storage account we are having 4 different types of storage offerning
  Blob storage sercie
  file share storage service
  table storage srevice
  queue storage service


Queses
- go to stroage acocunt, clck on queus
- click add message
- '


Virutal Network
- Basics
subs
resource group
region
vm nmamew
- security
- ip address
- tags
- review + create




In  Network Security Group( NSG) will implement the inbound and outbound traffice for our VM
Here ins Network security group NSG will decide our VM should talk to which services and 
networksecuritygroups

vnets
subnets



loadbalancers
-
i f we want lb to balance network traffic between the VM then the VM should be in 
same RG
same network
same region
saem avaialblity set also the vm sshould not have an ip address
we are adding vm isnide the LB not lb inside the vm


VNET Peering
- Cretae 2 vnets with multiple subnets in different regions 
- click on create resource group
- subc
  resource group name
  region
  review+create
- go to virtual networks
  click on create 
  subscription
  vnet name
  region
  ip addressed
  click on defulat
  subnet name subnet-1
  cliic on create
  review+create
- now do it for second vnet
- now deploy 2 vm on eac vnet
  create virtuma machine
  vm name
  region
  availablitu option no infrascture
  image
  username
  password
  ibound rules
  disks
  networking
  - check vnetname it should second vnetname
  review+create
- now connect to both the vms
- now in first vm
  open the command prompt
- now go back to virtualnetworks
- open one of the vnet click on peering
- perring link name
- virutal network - second vnet name
- remote virtual network peering setting
  allow myvnet 1 to mynet2
  allow myvnet1 to receive forwarde traffic from myvnet2
-  local virutal network smmary
    peering linkname
- local virtual netwokr peering setting
  allow mynet1971 to access  myvnet1973
  allow my net1971 to receied forwarded traffic from myvnet1973
- give the firewall rule
- now try ping to vm2 it will work

Basically at the time of VM creation we are having some basic  provisioning of  ports[ HTTPS, HTTPS, SSH, RDP]
If we want to open/deny apart from this 4 services we use network security group [RDP,SMTP]
If we want to have the complete control on our VM and even teh control of  network traffic inside the VM THEN WE CAN MAKE US OF aZURE FIREWALLS.


- Create resource group
  subscription
  resrouce group
  region
  revew + create
- click on virtual network
  subscription
  resource grpu
  vnetname-firewallvnet
  region
  in ipaddress
  192.168.0.0  /16
  click on defualt
   name auzresubnet
   in subnet purpose- choose azure firewall
   ipuv4 address range-10.0.0.0/16
  now click on add a subnet
  click on defualt
    name vmsubnet
    in subnet purpose- choose azure firewall
   ipuv4 address range-10.0.2.0/24
  click on defualt
    subnet prupose name FIREWALLMANAMENT(forced runneling
    in subnet purpose- choose azure firewall
   ipuv4 address range-10.0.0.0/16
- click on reivwe+create
-Create vm
- click on create vm
- vm name- FWVM
- region
- avaiablity zone - no infstarcuture redundancy required
- security type -standard
- username
-password
- public inbound ports- none
- clic on next
- networking - 
  virtual network firewallvnet
  subnet - myvmsubnet
  network security group - basic
- clickn no reveiw +create
- click on firewalls
- sub
 resource group
 name-MyFW
 region- 
 FIRewall SK - standar
 firewall managment- use fireall rules
 choose a virtual network- use exisiting
 virtual network- FWVnet( MyRG)
 public -  click  on new and give myfwip
 manament public ip addres- clic on new,  name- MyIp
 click on new tags
 review + create
-Now connect to vm, how is that posisblie, now click on n
 firewall, click on myfw-ip, copy Ipaddres
- it will not allow as we have put inbound port non you inorder to enable
- go to firewalls, click on settings, click on rules,.
  clck on add nat rule collection, 
- name= RDPconnection
- prioty 1452
 name- RDPConnection 
 protocal- TCP
 source type- ip address
 source *
 destination address 192.168.10.0 (firewall ip
 destination port  3389 (rdp PORT NO
 translated addres - private IP of the VM
  translated VM- 8080
- Go to firewalls, in PLLFW, click on public ip configuration
- copy ip address and put that in Remote desktip connection


23-OCT-2025:
Azure Bastion Service:
=======================

Create A VirtualNetwork:
------------------------
-click on  virtual networks
-click on create
-subscritipon - Azure subscriptoin1
-resource grup - IR-MG 
-virtual network name- BastionVnet
-region - East Asia
- Ipaddress
  - click on defualt 
  - Name- subnet-1 for VM
  - click on add
  - click on add subnet
  - clik on subnetpurpose azure bastion subnet
  - name-AzureBastionSubnet
  - click on add
- click on next
- click on review_+ creeate

Create Bastions:
-------------------
- click on Bastion
- subscritipon - Azure subscriptoin1
- resource grup - IR-MG 
- name - PLLBastion
- region- Australia East
- Availablity zone - zones 1,2,3
- Tier- standard
- instance count -2
- virutal network- choose - BastionVnet
- subnet- choose AzureBastionSubnet
- publick ipv4 address- choose create new
- public ip address name- Bastion-IP
- In advanced
  choose copy and paste
- click on review +create

Create a Virtual Machine:
----------------------------
-subscritipon - Azure subscriptoin1
-resource grup - IR-MG 
- Virtual Machine name- BastionVM
- Region- Australia East
- Availablity options- No infrastructure redudndancy required
- security tupe -standard
- image
- size - 8 hgp ram 2 vcpus
- username
- password
- inbond port rules - none

- In disks, click on next
- In networking
- virtual network- BastionVnet(IR-MG)
- Subnet- subnet-1
- click on review +create
- now go to BastionVM
- click on connecti via Bastion
- authentication tupe- VM password
- username- bastionVM
- VMPassword- 


Load Balancer will balance the network traffice between the server(webserver1 and webserver2)
Traffic manager profile will balance the network traffic between websites


Websever1/Bangalore@1234>>Australia East
Wevserver2/Bangalore@123>> Australia Centrail

Load Balancer:
================
Create a Virtual Machine1:
----------------------------
-subscritipon - Azure subscriptoin1
-resource grup - PLLRG
- Virtual Machine name- Webserver1
- Region- Australia East
- Availablity options- No infrastructure redudndancy required
- security tupe -standard
- image
- size - 8 hgp ram 2 vcpus
- username
- password
- inbond port rules - Allow selected ports
                      HTTP(80), HTTPS(443), RDP(3389)

- In disks, 
- OS disk size- Image defualt(127 GB)
- OS disk type- Premium SSD( Locally- redundant storage)
- click on next
- In networking
- virtual network- defualt
- Subnet-  defualt
- click on review +create

Create a Virtual Machine 2:
----------------------------
-subscritipon - Azure subscriptoin1
-resource grup - PLLRG
- Virtual Machine name- Webserver2
- Region- Australia Central
- Availablity options- No infrastructure redudndancy required
- security tupe -standard
- image
- size - 8 hgp ram 2 vcpus
- username
- password
- inbond port rules - Allow selected ports
                      HTTP(80), HTTPS(443), RDP(3389)

- In disks, 
- OS disk size- Image defualt(127 GB)
- OS disk type- Premium SSD( Locally- redundant storage)
- click on next
- In networking
- virtual network- defualt
- Subnet-  defualt
- click on review +create

- Now go to virtual machine
- got to webserver1
- click on connect
- cick on download RDP file, enter your credentials
- same way connect to webserver2

Creating webpage in Webserver1:
----------------------------------
- Now in server manager dashboard, In webserver1
- In configure this local server, click on add roles and fetures
- click on next 
- choose webserer IIS,
- click on next, click on install
- Now go to this pc, got to windows C,
- clikc on inetpub,click on wwwroot, There you create a new file 
- In that file wirte as  This is indigo.com
- save as index.html
- Now go to Virtualmachines
- click on webserve1
- in network settings, copy the public ip address and open in the browser
- you will see the page

Creating webpage in Webserver2:
-----------------------------------
- Now in server manager dashboard, In webserver2
- In configure this local server, click on add roles and fetures
- click on next 
- choose webserer IIS,
- click on next, click on install
- Now go to this pc, got to windows C,
- clikc on inetpub,click on wwwroot, There you create a new file 
- In that file wirte as  This is indigo.com
- save as index.html
- Now go to Virtualmachines
- click on webserve2
- in network settings, copy the public ip address and open in the browser
- you will see the page

DNS configruations:
----------------------
- Now click on webserver1
- In settings, click on DNS no required
- In DSN name label- pllservies
- click on save
- Now you will see the DSN configured

- Now click on webserver2
- In settings, click on DNS no required
- In DSN name label- pllservies
- click on save
- Now you will see the DSN configured


Traffice manager:
----------------------
- click on create
- subscription- Azure subscription1
- resource group- PLLRG
- Name- pLLTMP1545
- Routng method- Priority
- click on review + create

Endpoints:
-------------
- click on add
- type- Azure endpoints
- name- p1
- enable endpoint 
- target resource webserver1-ip
- priority-1
- Health checks- enable
- 

- click on add
- type- Azure endpoints
- name- p2
- enable endpoint 
- target resource webserver2-ip
- priority-1
- Health checks- enable
- 

24-octo-2025
Table Storage
====================

Resourccegroup:
- click on resourcegroup
- click on create
- subscription - Azure susbscription1
- Resource group name- PLL-RG
- region Austrial East

Storage account:
- click on  storage accounts
- click on create
- subscription - Azure susbscription1
- Resource group name- PLL-RG
- storage account name- srcsa1948
- region Austrial East
- Preferred storage type- Azure blob storage or azure data lake storage gne2
- Primary workload- High performance computing HPC
- Performance- standard
- Redudancy- Geo redundant storage GRS
- In advanced
- choose require secure transfer for REST API operations
- choose allow enabling anonymous access on individual containers
- choose enable storage account key access
- choose default to microsft entra authoriazation in the azure protal
- minimum TLS version - version 1.2
- click on revew+create

table service:
- After deployment is completed, click on resource
- click on table service
- click on table
- table name- Employeeinof
- click on table
- table name- Salesinfo

microsfo azure storage explorer:
- In microsfo azure storage explorer, click on plugin
- click on subscription, choose azure
- sign in
- again In microsfo azure storage explored, clic on plugin
- click on storage accoutn or services
- choose account name and key
- click on next. You will see connect to azure storage page
- In srcsa1948 storage account, search for access keys click on access keys,
- copy the keys and insert in account key  of  connect to azure storage page
- account name- srcsa1948
- click on conect
- Now in azure storage explorer, click on on srcsa1948(key)
- click down arroa, click on tables, you will see tables employeeinfor and salesinfo
- In Employeeinfo, click on add, 
- In add entity
  PropertyName      type   Value
  Partition key     string madhav
  Rowkey                   jha
  FullName                 MadhavJha
  Techonology              Azure Cloud enginerr
  Location                 Banaglore
  Salry                    40000
- click on insert
- Now you will see the row in the table

Note: iF you want to add the data in table storage services then for sure you have to user Azure storage explorere

query:
- click on query
- selection location     value hyderabad, click on run You will see the data as per your request
export:
- click on export, choose export selected
- save the employeeinfo file. you will see the file in the desktipo
- click on customize columnns and make changes
import:
click on import,click on 3 dots, copy the file path in the filename tabe
- select the file , click on ioepn
- it will show the columnds name and new names if you want to change 
- click on import


42:23

Creating one more storage account
--------------------------
Storage account:
- click on  storage accounts
- click on create
- subscription - Azure susbscription1
- Resource group name- PLL-RG
- storage account name- srcsa1949
- region Austrial East
- Preferred storage type- Azure blob storage or azure data lake storage gne2
- Primary workload- High performance computing HPC
- Performance- standard
- Redudancy- Geo redundant storage GRS
- In advanced
- choose require secure transfer for REST API operations
- choose allow enabling anonymous access on individual containers
- choose enable storage account key access
- choose default to microsft entra authoriazation in the azure protal
- minimum TLS version - version 1.2
- click on revew+create

- Now got to srcsa1949 
- In overview, click on file services
- click on file share
-  name- plfs
-  click on next
-  uncheck enable backup
-  click on create
-  in plfs , click on upload , and updload the files
- 


- Now got to srcsa1948
- In overview, click on Blob storage service
- click on container
- name- srccon
- click on create
- click on srccon
- click on upload
- and upload the files


Praveen>>srcsa1948>Blob Storage srvice>>3 files
Sunil>>srcsa1948> File services>> 2 files

Every Storage account is having a uniqueue key and connection string
Once you shared the key or the connection string of the SA then the user will get the  admin access  to your Stroage account

- In srca1948, serach for access,, click on access keys, Give the acces keys to prrvaee
-  Now praveen praveen has to select account name and key see below process
- again In microsfo azure storage explored, clic on plugin
- click on storage accoutn or services
- choose account name and key (Same way you can do it for connection string and shared access signature URL)
- you need to give account name srcsa 1948
- account key


Note:Same way you can do it for connection string and shared access signature URL



To signing out on storage account: right click on it and you will see 

You have to give the access to the user also at the same time you hvae to ensure that  the user should not delete or modkfy tyour data or files inisde the SA
In this case we use an another approach called shared access signatures

- Now got to srcsa1948
- search for sas, click on shared access signature
- you will option to set the signatures
- In allowed services- choose blob
- In allowed resource tyep- choose service and container
- In allowed permission, choose read, write, deltete ,list ,add create
- Blob versioning permissions
 choose enalbes deletion of versions
- In allowed blob index permissions
  choose read/write and filter
 - now come to Microsoft azure storage explored, select shared acess signature


27.oct.2025
------------


Azure cloud services is been divided into 3 categories
------------------------------------------------------------------------------
IAAS>> Virtual mahcines>> Web apps developments, build, deploments, sever maintenance, configurations
PAAS>> App service>> Web application development, build and deployment
SAAS

Here we are learing how we are hosting/migrating the web app which is  in my laptiop to azure cloud computing services.


PAAS Service:
----------------
- First open the code in visual code
- click on build 
- now run the code 
-  click on solution explorer
-  right click on the project
- cilck on publish
- click on azure, click on azure app service
- click on next 
- after singin
- target- azure subscripton1
- app service - clickon create new instances
- Name- PLLWebapp1548
- Subscription name- Azure Subscription 1
- Resource group- MyRG
- Hosting plan
   LOCATION
   SIZE
- click on ok
- click on create
- You will see an app service PLLWebapp1548 will be created in the MYRG folder
- click on close, click on oka,
- app will be published

- In azure, serach for app services
- click on appservices
- you will see PLLWebapp1548
- copy the url you will see the webpage in the browser


- After editing the code on live.
-  right click on the project
- cilck on publish



Azure kuberntest cluster is a combination of multiple node pools
Each node  pool can have a different O/S Windows or linux]
Node pool is a combination of multiple nodes
Node is nothing but a server/VM
Each node can have multiple pods in it
This pods we can also called a containers
On top of this pods we are hosting our applications



AKS Implementations:
--------------------------
- create a resource group
- subscription-AzureSubscription1
- resource group name -= MyResourceGroup
- region - Austrualia East
- click on review create

- go to kubernete services
- click on kubernetes cluster
- Subscruption- AzureSubscription1
- Resource group- MyResourceGroup
- Cluster preset configuration- Dev/Test
- Kubernetes Cluster name- aksdemo1
- Region- Australia East
- Fleet Manager-  none
- AKS pricing tier- Free ( The cluster managment is freem but you will be 
   chareded for VM, storage and menetworking usaged. Best for experimenting learning simplet etesting or workloads with fewer tthant 10 nodes)

-  kuberbetes version
-  Automatic upgrade- Enabled with path (recommemended) 
     automatic updgrade scheduler  Every week on sunday (recommend)
-  Node security channel type- Node image
    Security channel scheduleer- Every week on sunday (recommend)
- Authententication and Authorization - Local accounts with kuberntes RBAC

In Node Pool
- click on defualt node pool
- node pool name - Linuxnodepoo;
- availablity zone- choose zone1,2,3
- node size- 2 vcpus 8 gb memory
- scalae method - auto scaled recommendd
- Mininum node count- 2
- Maximum node count -3
-  Enable virutal node- chose
In Networking
- defualt
In Integrations
- defualt
In Monitoring
- chooose enalbe container logs
- log anatlytics workspace- choose default
In security
- choose default
In Advanced-
 - choose default
- click on review _ create

- Once it is deployed, click on aksdemo1
- click on cloud shell on top right
- choose bash
- choose your subscription
- choose we will crate s storage account for you
- click on next
Command to connecto AKS Cluster
- az aks get-credentials --resource-group MyResourceGroup --name aksdemo1
- kubectl get nodes
- kubectl get nodes -o wide
- kubectlt get namespaces
- clear command
- kubeclt get pods --all-namespaces
graphaically you can see nodepools, nodes

Installing AKS CLI direclty in our local laptop to connecti to kubernetes cluster:
----------------------------------------------------------------------------------------
- In our terminal give az login
- it will navigate to you to the deployed cluster
- login





3 NOV 2025
------------
In the world of docker container instance image is nothing but webapp/website

Demo1: directly i am hosting my webapp on top of docker container instance
      Here in demo1  some other developers has build and deploy the image(website)
      direcly im using this image to host on top of docker container instances.

 Resource group:

- cick on resource group
- subscription- Azure subscription1
- resource group name- PLL-RG
- Region - Australia eat
- click on review+create

Container Instance
- click on Container Instance
- click on create
- subscription- Azure subscription1
- resource group name- PLL-RG
-container name-  plldci
-Region - austrial east
- sku- standard 
- image source- other registry
- image- ashfaque9x/my-html-website
- os type- linxu
- size-  1vcpu,1.5 gib 0 gpus
Networking
- dns name lable- paperlivelearingservices
- dns name lables scope resue tenant
Monitoring- default
advanced - default
- click onrewivew+create
- now got to plldci copy the ip address and open in the browser

DeMo2: Here in Demo2 also we are using the webapp/image direclty and hosting obn top of docker container
 instance but this time the image will take from microsoft container rregistry (MCR)

 Resource group:

- cick on resource group
- subscription- Azure subscription1
- resource group name- PLL-RG
- Region - Australia eat
- click on review+create

Container Instance
- click on Container Instance
- click on create
- subscription- Azure subscription1
- resource group name- PLL-RG
-container name-  pllmridci
-Region - austrial east
- sku- standard 
- image -mcr.mcirosoft/azuredocs/aci-helloworld:latest
- os type- linxu
- size-  1vcpu,1.5 gib 0 gpus
Networking
- dns name lable- paperlivelearingservices
- dns name lables scope resue tenant
Monitoring- default
advanced - default
- click onrewivew+create
- now got to plldci copy the ip address and open in the browser


Demo3: Here we are customizing the webApp  on our own then will store this webapp in docker container
registry , will pull this webapp from docker container registry do docker container instance to host on top fo CI


container registry:

- go to container registry
- subscription
- resuorce group- PLL-RG
- registry name plldccr
- Domain name lable scop - unsecure
- Registry domain name- plldcr.azurecr.io
- click on create+review

- GO TO HOME
- click on cloudshell
- click on bash
- choose mount storage account
- click on subscriptoin
- choosse we will create a storage account for you
- git clone https://github.com/Azure-Samples/aci-helloworld.git
- ls
- cd aci-helloworld/
- code .
- it will ask to swtich ,click on ok
- change the code
-  az acr build --resource-group PLL-RG --image demo/custom-image-demo:v1 --registry plldcr --file Dockerfile .

Now 

- go to container registry
- cilck on access control  IAM
- click on add role assigment
- click on priviledged admiinstroator roles
- choose owner, lcik on next
- in Members, click on members
- choose the user which u have logged in with 
- clickn on next, click on select roles and principles or choose allow users to asign all roels (highly privileged)
-After the repository is deployed demo/custome-iumage-demo

- got to plldccr, search for access keys
- check the block for admin user
- go to plldccr, click on repositories

Container regitry name: plldcre
Repository  Name: demo/custom-image-demo

- az acr repository show-tags --nane plldcr -- repository demo/custom-image-demo

- az acr login -n plldcr --expose-token

- az acr repository list --name plldcr --output table
- az acr repository show --name plldcr --repository demo/custom-image-demo --output table

Container Instance
- click on Container Instance
- click on create
- subscription- Azure subscription1
- resource group name- PLL-RG
-container name-  pllmycusotmizeddci
-Region - austrial east
- sku- azure container registry 
- registry -plldccr
- image -demo/custom-image-demo 
- image tag c1
- os type- linxu
- size-  1vcpu,1.5 gib 0 gpus
Networking
- dns name lable- paperlivelearingservices
- dns name lables scope resue tenant
Monitoring- default
advanced - default
- click onrewivew+create
- now got to plldci copy the ip address and open in the browser

4 Nov:
------

SqL DB's server:
-------------------
 We are learning how we can create , deploy and SqL DB's server, sql artifacts in  cloud conputing

SQL DB's SQL server>> cloud computing [ public cloud]
local lpatop >> On - prem [ private cloud ]
1 we should have at least 1 sql server to deploy sql databased
2. if we are not having and sql server then we cannot deploy sql DB
3. on top of 1 sql sever we can deploy multiple sql databases
4. if you want to connect cloud sqldb from your on prem then you have to enabled firewall ports
5. if you want to connect cloud sql db from your lpatop (on prem then compulsory  you hsouldh have  s
   sql server and  SSMD installed in your lpatops

- search for sql databases
- click on azure sql datbases
- click on create
- subscription - azure subscription1
- resrouce group - PLL-RG
- database name SQLDBinAzuer
- server- click on createnew-  sqlserverinazure1917
- location Japan est
- authentication method- choose use both sql and microsoft entra authentication 
- set microsoft entr aadmin- click on set admin- select the usser gareth@micorofot.com
- server admin login  Gareth
- password
- confirm password
- click on ok
- database name SQLDBinAzuer
- server- click on createnew-  sqlserverinazure1917 (japaest)
- want to user sql elastic pool - no
- workload enviroment- development
- compute + storage- click on configure database
- service tier- select standard
- DTUS- Choose 20
- Data max size GB- 40
- Backup storage redundancy - choose locally-redundant backup storage
- In networking 
- connectivity method- public endpoint
-  firewall rules
- allo azure services and resoiurce to access this server - yes
- add current client ip address- yes
- connection policy
- choose defulat uses redirect policy for all clent conneciton origination isidfe of azure
- In encrupted connections
- TLS version- tls1.2
- In security - default
-In additional setttins
- use exsting datat - non
- datbase collaton
- collation - sql latin1_General CPI1_CIA-AS- Defualt
- tags
-click on review +create

- Now got to sqlserverinazure1917
- In our personal windows click Microsoft sql server management studio
- Now give databasename  SQLDBinAzuer
           sql Server name sqlserverinazure1917
           Server admin login: Gareth
           password: Bangalore@123
- now expand the databases, you will willl see SQLDBinAzuer database
- now click on the links which provided in the documents, click on execute 




Azure key vault
-------------------
- go to home search for key vault.
- click on create
- subscription
- resource group name
- key vault name- PLLKV1515
- Region- japan east
- pricing tiert - standard
- days to retain deleted vaults - 60
- purge protection - disable
Acess configuration
- choose valut accesss policy
networking
- choose all networks
- revieww + create

- Now create a VM
- Subscription- azure subscription-1
- resource group - PLL-RG
- Virtual machine name- websever
- region - centrial idia
- availblity options- no infrastructure redundancy required
- security type- stadard
- image- windows
- admintstartor
  username webserver
  password Ameerpet@123
- public inbound ports- allow selected ports
- inbound rules - RDP(3389)
                  HTTPS(443)
                  HTTP(80)
- Click on review + create

- Now go to keyvault
- click on PLLKV1515
- click on generate/ input
- upload options- Manual
-  Name - websever
- secret value- Ameerpet@123
- set activation date- 
- set expiration data- 
- click on create

- Now go to keyvault
- click on PLLKV1515
- click on generate/ input
- upload options- Manual
-  Name - sqlserverinazure1917
- secret value- Bangalore@123
- set activation date- 
- set expiration data- 
- click on create

- search  for microsoft entra id, click on users
- user prinicipal nam- Madhav
- password
- click on review+create

- Now in PLLKV1515
- In access policies, i will give the user accesss to see the keys in the keysvault
- click on create
- select template- key & secret managemnet
- chose get list set in secret permissions
- In principal- search for Madhav and select
- click on review + create
- Now in PLLKV1515
- click on access control iam
- click on add role assigment
- click on privileged administrator access
- seelct contributor
- click on next
- In members, in Assign access to - choose user, group or service prinicpal, click on select
- click on review+create

Madhav user will login to azure portal with his credentials and then get the secret/password for webserver and sqwl server 
if you forgot credentails
- go to PLLKV1515
- click on secrets, click on show secret value of respective websever or database.

How we can schedule the backups of our Azure VMS:
Recovery services valut(RSV) this is an inbuild service we have in azure cloud computing( PAAS)
Mostly we use this RSV services to schedule and take the backups
RSV heps us to schedule the automated backups.
RSV helps us to take the full VM backup, but it will not hlpe us to taked customized backups.
RSV helps us to take the future disks backups.
RSV can take the backup only when the VM and RSV region is common.
RSV is region dependent, if the region 

6 nov
-----
 In RSV how we can schedule the backup policies for our virtual machines

Recovery services valult(RSV) can take the backups of the VMS's only when  the regions are common
RSV region  and VM region are same then nly the backup is possible

right now my VM1 is having only c drive if at all after 2 months if i  i attached 2 moer disks to my VM1 then the RSV will take
the backup of this 2 new disks also.

Now for vm2 backup we have to create another RSV in the australia east region  then only it is possible 
to schedule the VM2 backup

In RSV we can take file share backups also

RSV Backups:
---------------
creating VM1:

- Now create a VM
- Subscription- azure subscription-1
- resource group - PLL-RG-2
- Virtual machine name- vm1
- region - centrial idia
- availblity options- no infrastructure redundancy required
- security type- stadard
- image- windows 2025
- admintstartor
  username VM1
  password Bangalore@123
- public inbound ports- allow selected ports
- inbound rules - RDP(3389)
                  HTTPS(443)
                  HTTP(80)
- Click on review + create

- Now create a second VM2
- Subscription- azure subscription-1
- resource group - PLL-RG-2
- Virtual machine name- vm2
- region - australia east
- availblity options- no infrastructure redundancy required
- security type- stadard
- image- windows 2025
- admintstartor
  username VM2
  password Bangalore@123
- public inbound ports- allow selected ports
- inbound rules - RDP(3389)
                  HTTPS(443)
                  HTTP(80)
- Click on review + create


- Now go to recovery services vault
- click on create
-  subscription - azure subscripiton-1
- resource group- PLL-RG 2
- valt name-  pLL-RSV
- region - centrail india
- In redundancy- 
  backup storage redundancy- locally - redundanct
- encruption type- choose use microsoft managed key
- In networking, in connectivity method- choose alowpublic access from all networks
- click on rewview+ create
- Now go to pLL-RSV
- click on backup
- where is your wokload running- choose azure
- what do you want to backup- choose virtual machine
- In configure backup
- policy sub type- enhanced
                   Multiple backups per day
                  choose standard
                    once a day backup
- backup policy0 click on create new policy
- policy name- VM1BakPlcy
- frequency- daily time- 4:30 am, timezone- UTC
- Instant restore  - 2 days
- retention range- at 4:50 am  for 12 days
- retention of monthly backup point- week based
                                On - fourth, day- friday, at 4:30 amn for 2 months
- choose retnetion of yearly backup point
  choose week based
  in decmber on fourth, day -friday at 4:30 am for 2 years
- In virtual machines
- click on add 
- select VM1, choose include future disks as well
- click on enable backup

In RSV we can take file share backups also


Storage accounts:
- click on  storage accounts
- click on create
- subscription - Azure susbscription1
- Resource group name- PLL-RG-2
- storage account name- srcsa1118
- region central india
- Preferred storage type- Azure blob storage or azure data lake storage gne2
- Primary workload- backup and arhive
- Performance- standard
- Redudancy- locally redundant storage (LRS)
- In advanced
- choose require secure transfer for REST API operations
- choose allow enabling anonymous access on individual containers
- choose enable storage account key access
- choose default to microsft entra authoriazation in the azure protal
- minimum TLS version - version 1.2
- click on revew+create


- Now go to srcsa1118
- click on datastorage0 click on file share
- name- pllfs1
- click on nextbackup
- enable backup - choose
- receovery services valut - selext existing
- valt name0 PLL-RSV
- click on revew+create

- Now go to srcsa1118
- click on datastorage0 click on file share
- name- pllfs2
- click on review+create

or 

- now go to pLL-RSV
- click on protocted itemaas, click on backup items
- choose azure file share
- where is your wokload running- choose azure
- what do you want to backup- choose azure file shares
- In configure backup
- storage account- select srsca1118
- In File shares to backup
- click on add file share names
- 
- policy sub type- enhanced
                   Multiple backups per day
                  choose standard
                    once a day backup
- backup policy- click on create new policy
- policy name- VM1BakPlcy
- frequency- daily time- 4:30 am, timezone- UTC
- Instant restore  - 2 days
- retention range- at 4:50 am  for 12 days
- retention of monthly backup point- week based
                                On - fourth, day- friday, at 4:30 amn for 2 months
- choose retnetion of yearly backup point
  choose week based
  in decmber on fourth, day -friday at 4:30 am for 2 years
- click on enable backup


Azure Montoring:
--------------------
Im now performing some activities on top of VM1
stop the VM
start the VM
Restart the VM
upgrade the VM>>>- clini on avalitvlity + scale- click on size

All the above activities has been captured in azure monitor by default nothing has done from your end.

- Go to monitor in search bar
- you will see the logs of deallocate virtual amchine, restart , uipdate virutual macines

- click on create an alert rule
- select vm1 - click on apply
- click on see all signals
- select restart- click on apply
- click on next actions
- In details
- subscription - azure subsscription1
- resource group- PLL-RG2
- Region - global
- alert rule details
 alert rule name- VM1 restart
 alert rule description- get me an alert in the form of an Email whenever VM1 gets restarted
- click on  reveiw + create
- click on create
- Now in the Monitor | Alerts home page, click on alerts, click on alert rules
- you will see VM1 restart
- now click on vm1 restart
- click on edit
- click  create action group
- subscription - azure subsscription1
- resource group- PLL-RG2
- Region - global
- action group name - ActionGroup-VM1-restart
- display name- AGVM1Restart
- Notifications , notfication type- email/sms message
- email -
- country code -91
-phone no- 
- enable the common alert schema
- click on review+ create

- Now in the Monitor | metrics home page, click on metrics
- scop- vm1
- metric namespace - virtual machine host
- metric -percetage CPU
- Aggregation -avg
- you can save to dashboards

